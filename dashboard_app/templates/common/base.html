{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="{% static 'img/logos/logo.png' %}"
    />
    <link
      rel="icon"
      type="image/png"
      href="{% static 'img/logos/logo.png' %}"
    />
    <title>VFF Group</title>
    <!-- PDF Download LInk  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <!--     Fonts and icons     -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700"
      rel="stylesheet"
    />
    <!-- Nucleo Icons -->
    <link href="{% static 'css/nucleo-icons.css' %}" rel="stylesheet" />
    <link href="{% static 'css/nucleo-svg.css' %}" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script
      src="https://kit.fontawesome.com/42d5adcbca.js"
      crossorigin="anonymous"
    ></script>
    <link href="{% static 'css/nucleo-svg.css' %}" rel="stylesheet" />

    <!-- Style Toast  -->
    <link rel="stylesheet" href="{% static 'vendor/toastr/css/toastr.min.css' %}">

    <!-- Select 2 for dropdown search option  -->
    <link rel="stylesheet" href="{% static 'vendor/select2/css/select2.min.css' %}">

    <!-- Add these links to your HTML -->
<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.0/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.0/js/bootstrap.min.js"></script> -->

    <!-- CSS Files -->
    <link
      id="pagestyle"
      href="{% static 'css/vff-group-dashboard.css' %}"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/eea5b138cd.js"
      crossorigin="anonymous"
    ></script>

    <!-- <script src="firebase-messaging-sw.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-analytics-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-messaging-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-remote-config-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script> -->

    <!-- Include Firebase SDK -->
<!-- <script src="https://www.gstatic.com/firebasejs/9.6.5/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.5/firebase-messaging.js"></script> -->

<!-- Your Firebase configuration -->
<!-- <script>
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyB377d4_AFRtoEIjpN2Puf3CYwe-I9dCGE",
  authDomain: "vff-group-b185c.firebaseapp.com",
  projectId: "vff-group-b185c",
  storageBucket: "vff-group-b185c.appspot.com",
  messagingSenderId: "711189707453",
  appId: "1:711189707453:web:3813986a11e36f830b55d4",
  measurementId: "G-YYEJHD2GJ1"
};
// Initialize Firebase
const app = firebase.initializeApp(firebaseConfig)

messaging.getToken({ vapidKey: "BI8f1hb-vcsbUifpdiNu**********" })

  
  
  
  // Retrieve the device token
  const messaging = firebase.messaging();
  
  messaging.requestPermission().then(() => {
    return messaging.getToken();
  }).then((token) => {
    console.log("Device Token:", token);
    // Send this token to your Django backend
  }).catch((err) => {
    console.log("Error getting permission or token:", err);
  });
</script>

// Your notification handling JavaScript
<script>
  // Handle foreground notification
  messaging.onMessage((payload) => {
    console.log('Foreground Message:', payload);
    // Customize the appearance or behavior of the notification here
    // You can use a library like Toast or create your own notification UI
  });

  // Handle background notification
  messaging.onBackgroundMessage((payload) => {
    console.log('Background Message:', payload);
    // Customize the behavior when the app is in the background
    // You might want to show a notification using the Notification API
    self.registration.showNotification(payload.notification.title, {
      body: payload.notification.body,
    });
  });

  // Service worker to handle background notifications
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/static/js/firebase-messaging-sw.js')
      .then((registration) => {
        console.log('Service Worker registered with scope:', registration.scope);
      })
      .catch((err) => {
        console.error('Service Worker registration failed:', err);
      });
  }
</script> -->

    <!-- For Toast Messages  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <!-- <script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script> -->
<!-- 
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyB377d4_AFRtoEIjpN2Puf3CYwe-I9dCGE",
        authDomain: "vff-group-b185c.firebaseapp.com",
        projectId: "vff-group-b185c",
        storageBucket: "vff-group-b185c.appspot.com",
        messagingSenderId: "711189707453",
        appId: "1:711189707453:web:3813986a11e36f830b55d4",
        measurementId: "G-YYEJHD2GJ1",
      };

      requestPermission();
      console.log(firebaseConfig);
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      // Initialize Firebase
      //firebase.initializeApp(firebaseConfig);

      // Initialize Firebase Cloud Messaging and get a reference to the service
      const messaging = app.messaging();

      messaging
        .getToken({
          vapidKey:
            "AAAApZY1ur0:APA91bHsk-e3OC5R2vqO7dD0WZp7ifULNzqrUPnQu07et7RLFMWWcwOqY9Bl-9YQWkuXUP5nM7bVMgMP-qKISf9Jcf2ix9j7oOkScq9-3BH0hfCH3nIWgkn4hbnmSLyw4pmq66rMZz8R",
        })
        .then((currentToken) => {
          if (currentToken) {
            // Send the token to your server and update the UI if necessary
            console.log(currentToken);
            // ...
          } else {
            // Show permission request UI
            console.log(
              "No registration token available. Request permission to generate one."
            );
            requestPermission();
            // ...
          }
        })
        .catch((err) => {
          console.log("An error occurred while retrieving token. ", err);
          // ...
        });
      function requestPermission() {
        console.log("Requesting permission...");
        Notification.requestPermission().then((permission) => {
          if (permission === "granted") {
            console.log("Notification permission granted.");
          }
        });
      }
    
    </script>  -->
  
  </head>
  <body class="g-sidenav-show bg-gray-100">
    <div id="preloader-active">
      <div class="preloader d-flex align-items-center justify-content-center">
        <div class="preloader-inner position-relative">
          <div class="preloader-circle"></div>
          <div class="preloader-img pere-text">
            <img src="{% static 'img/logos/logo.png' %}" alt="" />
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for notifications -->
<div class="modal fade" id="notificationModal" tabindex="-1" role="dialog" aria-labelledby="notificationModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="notificationModalLabel">New Notification</h5>
              <button type="button" class="btn-close text-dark" data-bs-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span>
              </button>
          </div>
          <div class="modal-body">
              <img src="{% static 'img/new_notification_image.jpg'%}" id="notificationImage" class="img-fluid" alt="Notification Image" style="height:50%; width: fit-content;">
              <p class="mt-3" id="notificationDescription">NOtification Description</p>
          </div>
      </div>
  </div>
</div>

    <audio id="notificationSound" style="display: none;">
      <source src="{% static 'audio/new_order_ringtone.mp3' %}" type="audio/mpeg">
      Your browser does not support the audio element.
  </audio>
  
    <aside
      class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3"
      id="sidenav-main"
    >
      <div class="sidenav-header">
        <i
          class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none"
          aria-hidden="true"
          id="iconSidenav"
        ></i>
        <a class="navbar-brand m-0" href="" target="_blank">
          <img
            src="{% static 'img/logos/color_logo.png' %}"
            class="navbar-brand-img h-100"
            alt="l"
          />
          {% comment %}
          <span class="ms-1 font-weight-bold">VFF Group</span> {%endcomment %}
        </a>
      </div>
      <hr class="horizontal dark mt-0" />
      <div
        class="collapse navbar-collapse w-auto max-height-vh-100 h-100"
        id="sidenav-collapse-main"
      >
        <ul class="navbar-nav">
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'dashboard_app:dashboard' %}"
              data-url="{% url 'dashboard_app:dashboard' %}"
            >
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i
                  class="fa-solid fa-house-chimney {% if not current_url == '/admin_dashboard/dashboard/' %}text-dark {% endif %}"
                ></i>
              </div>
              <span class="nav-link-text ms-1">Dashboard</span>
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'dashboard_app:customers' %}"
              data-url="{% url 'dashboard_app:customers' %}"
            >
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i
                  class="fa-solid fa-users-gear {% if not current_url == '/admin_dashboard/customers/' %}text-dark {% endif %}"
                ></i>
              </div>
              <span class="nav-link-text ms-1">Customers Panel</span>
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'dashboard_app:delivery_agents' %}"
              data-url="{% url 'dashboard_app:delivery_agents' %}"
            >
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i
                  class="fa-solid fa-truck fa-lg {% if not current_url == '/admin_dashboard/delivery_agents/' %}text-dark{% endif %}"
                ></i>
              </div>
              <span class="nav-link-text ms-1">Delivery Staff Panel</span>
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'dashboard_app:all_categories' %}"
              data-url="{% url 'dashboard_app:all_categories' %}"
            >
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i
                  class="fa-solid fa-shirt fa-lg {% if not current_url == '/admin_dashboard/categories/' %}text-dark{% endif %}"
                ></i>
              </div>
              <span class="nav-link-text ms-1">Category Settings</span>
            </a>
          </li>
          <li class="nav-item mt-3">
            <h6
              class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6"
            >
              Admin Controls
            </h6>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'dashboard_app:all_main_branches' %}"
              data-url="{% url 'dashboard_app:all_main_branches' %}"
            >
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
              
                <i
                  class="fa-solid fa-dumpster-fire fa-lg {% if not current_url == '/admin_dashboard/all_main_branches/' %}text-dark{% endif %}"
                ></i>
              </div>
              <span class="nav-link-text ms-1">My Branches</span>
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'dashboard_app:all_staff' %}"
              data-url="{% url 'dashboard_app:all_staff' %}"
            >
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
              
                <i
                  class="fa-solid fa-dumpster-fire fa-lg {% if not current_url == '/admin_dashboard/staff/' %}text-dark{% endif %}"
                ></i>
              </div>
              <span class="nav-link-text ms-1">All Employees</span>
            </a>
          </li>
          <li class="nav-item mt-3">
            <h6
              class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6"
            >
              Orders
            </h6>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'dashboard_app:counter_orders_screen' %}"
              data-url="{% url 'dashboard_app:counter_orders_screen' %}"
            >
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
              
                <i
                  class="fa-solid fa-dumpster-fire fa-lg {% if not current_url == '/admin_dashboard/counter_orders_screen/' %}text-dark{% endif %}"
                ></i>
              </div>
              <span class="nav-link-text ms-1">Add Counter Order</span>
            </a>
          </li>

         

          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'dashboard_app:all_orders' %}"
              data-url="{% url 'dashboard_app:all_orders' %}"
            >
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i
                  class="fa-solid fa-bag-shopping fa-lg {% if not current_url == '/admin_dashboard/all_orders/' %}text-dark{% endif %}"
                ></i>
              </div>
              <span class="nav-link-text ms-1">Active Orders</span>
            </a>
          </li>

          <li class="nav-item mt-3">
            <h6
              class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6"
            >
              Bookings
            </h6>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'dashboard_app:all_bookings' %}"
              data-url="{% url 'dashboard_app:all_bookings' %}"
            >
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i
                  class="fa-solid fa-bookmark fa-lg {% if not current_url == '/admin_dashboard/all_bookings/' %}text-dark{% endif %}"
                ></i>
              </div>
              <span class="nav-link-text ms-1">Current Bookings</span>
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              href="{% url 'dashboard_app:all_unassigned_bookings' %}"
              data-url="{% url 'dashboard_app:all_unassigned_bookings' %}"
            >
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i
                  class="fa-regular fa-bookmark fa-lg {% if not current_url == '/admin_dashboard/all_unassigned_bookings/' %}text-dark{% endif %}"
                ></i>
              </div>
              <span class="nav-link-text ms-1">UnAssigned Bookings</span>
            </a>
          </li>
          
          <li class="nav-item mt-3">
            <h6
              class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6"
            >
              Finance
            </h6>
          </li>
           <li class="nav-item">
            <a class="nav-link"  href="{% url 'dashboard_app:all_expenses' %}"
            data-url="{% url 'dashboard_app:all_expenses' %}">
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i class="fa-solid fa-credit-card fa-lg {% if not current_url == '/admin_dashboard/all_expenses/' %}text-dark{% endif %}"></i>
              </div>
              <span class="nav-link-text ms-1">Expenses</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'dashboard_app:expense_category' %}"
            data-url="{% url 'dashboard_app:expense_category' %}">
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i class="fa-solid fa-bars fa-lg {% if not current_url == '/admin_dashboard/expense_category/' %}text-dark{% endif %}"></i>
              </div>
              <span class="nav-link-text ms-1">Expense Category</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link"href="{% url 'dashboard_app:payment_receipt' %}"
            data-url="{% url 'dashboard_app:payment_receipt' %}">
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i class="fa-solid fa-money-bill-1 fa-lg {% if not current_url == '/admin_dashboard/payment_receipt/' %}text-dark{% endif %}"></i>
              </div>
              <span class="nav-link-text ms-1">Payment Receipts</span>
            </a>
          </li>

          <li class="nav-item mt-3">
            <h6
              class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6"
            >
              Reports
            </h6>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{% url 'dashboard_app:daily_report' %}"
            data-url="{% url 'dashboard_app:daily_report' %}">
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i class="fa-solid fa-turn-up fa-lg {% if not current_url == '/admin_dashboard/daily_report/' %}text-dark{% endif %}"></i>
              </div>
              <span class="nav-link-text ms-1">Daily Report</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{% url 'dashboard_app:order_report' %}"
            data-url="{% url 'dashboard_app:order_report' %}">
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i class="fa-solid fa-receipt fa-lg {% if not current_url == '/admin_dashboard/order_report/' %}text-dark{% endif %}"></i>
              </div>
              <span class="nav-link-text ms-1">Order Report</span>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{% url 'dashboard_app:sales_report' %}"
            data-url="{% url 'dashboard_app:sales_report' %}">
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i class="fa-solid fa-chart-simple fa-lg {% if not current_url == '/admin_dashboard/sales_report/' %}text-dark{% endif %}"></i>
              </div>
              <span class="nav-link-text ms-1">Sales Report</span>
            </a>
          </li>


          <!-- <li class="nav-item">
            <a class="nav-link" href="{% url 'dashboard_app:expense_report' %}"
            data-url="{% url 'dashboard_app:expense_report' %}">
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i class="fa-solid fa-calendar-week fa-lg {% if not current_url == '/admin_dashboard/expense_report/' %}text-dark{% endif %}"></i>
              </div>
              <span class="nav-link-text ms-1">Expenses Report</span>
            </a>
          </li> -->


          <!-- <li class="nav-item">
            <a class="nav-link" href="{% url 'dashboard_app:tax_report' %}"
            data-url="{% url 'dashboard_app:tax_report' %}">
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i class="fa-solid fa-file-invoice fa-lg {% if not current_url == '/admin_dashboard/tax_report/' %}text-dark{% endif %}"></i>
              </div>
              <span class="nav-link-text ms-1">Tax Report</span>
            </a>
          </li> -->


          <!-- <li class="nav-item mt-3">
            <h6
              class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6"
            >
              Other
            </h6>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="">
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i class="fa-solid fa-bell fa-lg text-dark"></i>
              </div>
              <span class="nav-link-text ms-1">Notifications </span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="">
              <div
                class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center"
              >
                <i class="fa-solid fa-gear fa-lg text-dark"></i>
              </div>
              <span class="nav-link-text ms-1">Settings</span>
            </a>
          </li>
           -->
        </ul>
      </div>
      <div class="sidenav-footer mx-3">
        <div
          class="card card-background shadow-none card-background-mask-secondary"
          id="sidenavCard"
        >
          <div
            class="full-background"
            style="
              background-image: url('../assets/img/curved-images/white-curved.jpeg');
            "
          ></div>
          <div class="card-body text-start p-3 w-100">
            <div
              class="icon icon-shape icon-sm bg-white shadow text-center mb-3 d-flex align-items-center justify-content-center border-radius-md"
            >
              <i
                class="ni ni-diamond text-dark text-gradient text-lg top-0"
                aria-hidden="true"
                id="sidenavCardIcon"
              ></i>
            </div>
            <div class="docs-info">
              <h6 class="text-white up mb-0">Need help?</h6>
              <p class="text-xs font-weight-bold">Please contact us</p>
              <a
                href="https://www.pexelperfektsolution.com/"
                target="_blank"
                class="btn btn-white btn-sm w-100 mb-0"
                >Contact Us</a
              >
            </div>
          </div>
        </div>
      </div>
    </aside>

    <main
      class="main-content position-relative max-height-vh-100 h-100 mt-1 border-radius-lg"
    >
      <!-- Navbar -->
      <nav
        class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl"
        id="navbarBlur"
        navbar-scroll="true"
      >
        <div class="container-fluid py-1 px-3">
          <nav aria-label="breadcrumb">
            <h6 class="font-weight-bolder mb-0">
              {% block title %}{% endblock title%}
            </h6>
          </nav>
          <div
            class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4"
            id="navbar"
          >
            <div class="ms-md-auto pe-md-3 d-flex align-items-center"></div>
            <ul class="navbar-nav justify-content-end">
              <li class="nav-item d-flex align-items-center">
                <a
                  href="javascript:;"
                  class="nav-link text-body font-weight-bold px-0"
                >
                  <i class="fa fa-user me-sm-1"></i>
                  <span class="d-sm-inline d-none text-uppercase"
                    >{{ request.session.branch_admin_name }}</span
                  >
                  <span class="d-sm-inline d-none text-uppercase"
                    >[{{ request.session.username }}]</span
                  >
                </a>
              </li>
              <li class="nav-item d-xl-none ps-3 d-flex align-items-center">
                <a
                  href="javascript:;"
                  class="nav-link text-body p-0"
                  id="iconNavbarSidenav"
                >
                  <div class="sidenav-toggler-inner">
                    <i class="sidenav-toggler-line"></i>
                    <i class="sidenav-toggler-line"></i>
                    <i class="sidenav-toggler-line"></i>
                  </div>
                </a>
              </li>
              <li class="nav-item px-3 d-flex align-items-center">
                <a
                  href=""
                  class="nav-link text-body p-0"
                  data-bs-toggle="modal"
                  data-bs-target="#modal-default-search"
                >
                  <i
                    class="fa fa-search fixed-plugin-button-nav cursor-pointer"
                  ></i>
                </a>
              </li>
              <!-- <li class="nav-item dropdown pe-2 d-flex align-items-center">
                <a
                  href="javascript:;"
                  class="nav-link text-body p-0"
                  id="dropdownMenuButton"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  <i class="fa fa-bell cursor-pointer"></i>
                </a>
                
                <ul
                  class="dropdown-menu dropdown-menu-end px-2 py-3 me-sm-n4"
                  aria-labelledby="dropdownMenuButton"
                >
                  <li class="mb-2">
                    <a
                      class="dropdown-item border-radius-md"
                      href="javascript:;"
                    >
                      <div class="d-flex py-1">
                        <div class="my-auto">
                          <img
                            src="../assets/img/team-2.jpg"
                            class="avatar avatar-sm me-3"
                          />
                        </div>
                        <div class="d-flex flex-column justify-content-center">
                          <h6 class="text-sm font-weight-normal mb-1">
                            <span class="font-weight-bold">New message</span>
                            from shaheed
                          </h6>
                          <p class="text-xs text-secondary mb-0">
                            <i class="fa fa-clock me-1"></i>
                            13 minutes ago
                          </p>
                        </div>
                      </div>
                    </a>
                  </li>
                  <li class="mb-2">
                    <a
                      class="dropdown-item border-radius-md"
                      href="javascript:;"
                    >
                      <div class="d-flex py-1">
                        <div class="my-auto">
                          <img
                            src="../assets/img/small-logos/logo.svg"
                            class="avatar avatar-sm bg-gradient-dark me-3"
                          />
                        </div>
                        <div class="d-flex flex-column justify-content-center">
                          <h6 class="text-sm font-weight-normal mb-1">
                            <span class="font-weight-bold">New Message</span> by
                            Khalil
                          </h6>
                          <p class="text-xs text-secondary mb-0">
                            <i class="fa fa-clock me-1"></i>
                            1 day
                          </p>
                        </div>
                      </div>
                    </a>
                  </li>
                </ul>
              </li> -->
              <li class="nav-item dropdown pe-2 d-flex align-items-center">
                <a href="javascript:;" class="nav-link text-body p-0" id="notificationBell" data-bs-toggle="offcanvas" data-bs-target="#notificationsOffcanvas" aria-expanded="false">
                  <i class="fa fa-bell cursor-pointer"></i>
                </a>
              </li>
              
            </ul>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->
<!-- Offcanvas for Notifications -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="notificationsOffcanvas">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Notifications</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div id="notificationsContent"></div>
  </div>
</div>


      <div class="col-md-4">
        <div
          class="modal fade"
          id="modal-default-search"
          tabindex="-1"
          role="dialog"
          aria-labelledby="modal-default"
          aria-hidden="true"
        >
          <div
            class="modal-dialog modal- modal-dialog-centered modal-"
            role="document"
          >
            <div class="modal-content">
              <div class="modal-header">
                <h6 class="modal-title" id="modal-title-default">Most Recent Order Search</h6>
                <button
                  type="button"
                  class="btn-close text-dark"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                >
                  <span aria-hidden="true">×</span>
                </button>
              </div>
              <div class="modal-body">
                <form id="searchForm" >
                  {% csrf_token %}
                  <div class="row">
                    <div class="col-lg-12">
                      <div class="form-group">
                        <label class="form-control-label" for="input-cost"
                          >#Order ID or Mobile Number </label
                        >
                        <input
                          type="number"
                          id="input-cost"
                          class="form-control form-control-alternative"
                          placeholder="Search using Order ID,Mobile Number"
                          name="searchid"
                          autocomplete="off"
                          required
                        />
                      </div>
                    </div>

                    <div class="col-lg-12">
                      <div class="form-group">
                        <label class="form-control-label" for="input-type"
                          >Type</label
                        >
                        <select
                          class="form-control form-control-alternative"
                          id="input-type"
                          name="type"
                          required
                        >
                          <option value="Order ID">Order ID</option>
                          <option value="Mobile Number">Mobile Number</option>
                        </select>
                      </div>
                    </div>
                  </div>

                  <div class="row justify-content-center p-4 mt-1">
                    <div class="col-lg-2">
                      <button type="button" class="btn btn-primary my-4" id="searchBtn">
                        Search
                      </button>
                    </div>
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-link ml-auto"
                  data-bs-dismiss="modal"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Toastr -->
      <!-- <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Toastr</h4>
                </div>
                <div class="card-body">
                    <button type="button" class="btn btn-dark mb-2 " id="toastr-success-top-right">Top
                        Right</button>
                    <button type="button" class="btn btn-dark mb-2  mr-2" id="toastr-success-bottom-right">Bottom Right</button>
                    <button type="button" class="btn btn-dark mb-2  mr-2" id="toastr-success-bottom-left">Bottom Left</button>
                    <button type="button" class="btn btn-dark mb-2  mr-2" id="toastr-success-top-left">Top
                        Left</button>
                    <button type="button" class="btn btn-dark mb-2  mr-2" id="toastr-success-top-full-width">Top Full Width</button>
                    <button type="button" class="btn btn-dark mb-2  mr-2" id="toastr-success-bottom-full-width">Bottom Full Width</button>
                    <button type="button" class="btn btn-dark mb-2  mr-2" id="toastr-success-top-center">Top
                        Center</button>
                    <button type="button" class="btn btn-dark mb-2  mr-2" id="toastr-success-bottom-center">Bottom Center</button>
                    <button type="button" class="btn btn-info mb-2  mr-2" id="toastr-info-top-right">Info</button>
                    <button type="button" class="btn btn-warning mb-2  mr-2" id="toastr-warning-top-right">Warning</button>
                    <button type="button" class="btn btn-danger mb-2  mr-2" id="toastr-danger-top-right">Error</button>
                </div>
            </div>
        </div>
    </div> -->

    <!--**********************************
            Content body start
        ***********************************-->
        <!-- <div class="content-body">
          <div class="container-fluid">
              <div class="row page-titles mx-0">
                  <div class="col-sm-6 p-md-0">
                      <div class="welcome-text">
                          <h4>Hi, welcome back!</h4>
                          <p class="mb-0">Your business dashboard template</p>
                      </div>
                  </div>
                  <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                      <ol class="breadcrumb">
                          <li class="breadcrumb-item"><a href="javascript:void(0)">Components</a></li>
                          <li class="breadcrumb-item active"><a href="javascript:void(0)">Select2</a></li>
                      </ol>
                  </div>
              </div>
              <div class="row">
                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Single select boxes</h4>
                                  <p>Select2 can take a regular select box like this...</p>
                              </div>

                              <select id="single-select">
                                  <option value="AL">Alabama</option>
                                  <option value="WY">Wyoming</option>
                              </select>
                          </div>
                      </div>
                  </div>
                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Multi-select boxes</h4>
                                  <p>Select2 also supports multi-value select boxes. The select below is declared with the multiple <mark class="text-primary">attribute</mark>.</p>
                              </div>
                              <select class="multi-select" name="states[]" multiple="multiple">
                                  <option value="AL">Alabama</option>
                                  <option value="WY">Wyoming</option>
                                  <option value="UI">dlf</option>
                              </select>
                          </div>
                      </div>
                  </div>
                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Dropdown option groups</h4>
                                  <p>In HTML, <code>&lt;option&gt;</code> elements can be grouped by wrapping them with in <br> an <code>&lt;optgroup&gt;</code> element: </p>
                              </div>

                              <select class="dropdown-groups">
                                  <optgroup label="Group Name">
                                      <option>Nested option 1</option>
                                      <option>Nested option 2</option>
                                      <option>Nested option 3</option>
                                  </optgroup>
                                  <optgroup label="Another Group Name">
                                      <option>Nested option 1</option>
                                      <option>Nested option 2</option>
                                      <option>Nested option 3</option>
                                  </optgroup>
                              </select>
                          </div>
                      </div>
                  </div>
                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Disabling options</h4>
                                  <p>Select2 will correctly handle disabled options when <code>disabled</code> attribute is set) and from remote srouces where the object has <code>disabled:
                                          true</code> set.</p>
                              </div>
                              <select class="disabling-options">
                                  <option value="one">First</option>
                                  <option value="two" disabled="disabled">Second (disabled)</option>
                                  <option value="three">Third</option>
                              </select>
                          </div>
                      </div>
                  </div>
                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Disabling a Select2 control</h4>
                                  <p>Select2 will respond to the <code>disabled</code> attribute on
                                      <code>&lt;select&gt;</code> elements. You can also initialize Select2 with
                                      <code>disabled: true</code> to get the same effect.</p>
                              </div>

                              <div class="mb-3">
                                  <select class="js-example-disabled">
                                      <option value="AL">Alabama</option>
                                      <option value="WY">Wyoming</option>
                                  </select>
                              </div>
                              <div class="mb-3">
                                  <select class="js-example-disabled-multi" name="states[]" multiple="multiple">
                                      <option value="AL">Alabama</option>
                                      <option value="WY">Wyoming</option>
                                  </select>
                              </div>

                              <button class="btn btn-primary mr-2" id="js-programmatic-enable">Enable</button>
                              <button class="btn btn-primary" id="js-programmatic-disable">Disable</button>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Select2 With Labels</h4>
                                  <p>You can, and should, use a <code>&lt;label&gt;</code> with Select2, just like any other <code>&lt;select&gt;</code> element.</p>
                              </div>

                              <label class="mb-4 select2-label" for="id_label_single">
                                  Click this to highlight the single select element <br>

                                  <select class="select2-with-label-single js-states d-block" id="id_label_single">
                                      <option value="AL">Alabama</option>
                                      <option value="WY">Wyoming</option>
                                  </select>
                              </label>

                              <label class="select2-label" for="id_label_multiple">
                                  Click this to highlight the multiple select element <br>

                                  <select class="select2-with-label-multiple js-states" id="id_label_multiple"
                                      multiple="multiple">
                                      <option value="AL">Alabama</option>
                                      <option value="WY">Wyoming</option>
                                  </select>
                              </label>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">container-fluid Width</h4>
                                  <p>The two Select2 boxes below are styled to <code>50%</code> and <code>75%</code> width respectively to support responsive design:</p>
                              </div>

                              <div class="mb-3">
                                  <select class="select2-width-50" style="width: 50%">
                                      <option value="AL">Alabama</option>
                                      <option value="WY">Wyoming</option>
                                  </select>
                              </div>
                              <div class="mb-3">
                                  <select class="select2-width-75" multiple="multiple" style="width: 75%">
                                      <option value="AL">Alabama</option>
                                      <option value="WY">Wyoming</option>
                                  </select>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Themes</h4>
                                  <p>Select2 supports custom themes using the <code>theme</code> option so you can style Select2 to match the rest of your application.</p>
                              </div>

                              <div class="mb-4">
                                  <select class="js-example-theme-single">
                                      <option value="AL">Alabama</option>
                                      <option value="WY">Wyoming</option>
                                  </select>
                              </div>

                              <div class="">
                                  <select class="js-example-theme-multiple" name="states[]" multiple="multiple">
                                      <option value="AL">Alabama</option>
                                      <option value="WY">Wyoming</option>
                                  </select>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Ajax (remote data)</h4>
                                  <p>Select2 comes with AJAX support built in, using jQuery's AJAX methods. In this example, we can search for repositories using GitHub's API:</p>
                              </div>

                              <select class="js-data-example-ajax w-100">

                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Loading array data</h4>
                                  <p>You may use the <code>data</code> configuration option to load dropdown options from a local array.</p>
                              </div>

                              <select class="js-example-data-array">

                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Automatic Selection</h4>
                                  <p>Select2 can be configured to automatically select the currently highlighted result when the dropdown is closed by using the <code>selectOnClose</code> option:
                                  </p>
                              </div>

                              <select id="automatic-selection">
                                  <option value="AL">Alabama</option>
                                  <option value="WY">Wyoming</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Remain open after selection</h4>
                                  <p>Select2 will automatically close the dropdown when an element is selected, similar to what is done with a normal select box. You may use the
                                      <code>closeOnSelect</code> option to prevent the dropdown from closing when a result is selected:</p>
                              </div>

                              <select id="remain-open">
                                  <option value="AL">Alabama</option>
                                  <option value="WY">Wyoming</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Dropdown placement</h4>
                                  <p>The <code>dropdownParent</code> option allows you to pick an alternative element for the dropdown to be appended to:</p>
                              </div>

                              <select id="dropdown-placement">
                                  <option value="AL">Alabama</option>
                                  <option value="WY">Wyoming</option>
                              </select>
                              <div id="select2-modal">

                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Limiting the number of selections</h4>
                                  <p>Select2 multi-value select boxes can set restrictions regarding the maximum number of options that can be selected. The select below is declared with the
                                      <code>multiple</code> attribute with <code>maximumSelectionLength</code> in the select2 options.</p>
                              </div>

                              <select id="limit-selection" name="states[]" multiple="multiple">
                                  <option value="AL">Alabama</option>
                                  <option value="WY">Wyoming</option>
                                  <option value="BY">Lorem</option>
                                  <option value="DY">Ipsum</option>
                                  <option value="MY">Dolor</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Dynamic option creation</h4>
                                  <p>In addition to a prepopulated menu of options, Select2 can dynamically create new options from text input by the user in the search box. This feature is called "tagging". To enable tagging, set the <code>tags</code>                                        option to
                                      <code>true</code>:</p>
                              </div>
                              <select id="dynamic-option-creation">
                                  <option value="AL">Red</option>
                                  <option value="WY">Green</option>
                                  <option value="BY">Yellow</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Tagging with multi-value select boxes</h4>
                                  <p>Tagging can also be used in multi-value select boxes. In the example below, we set the <code>multiple="multiple"</code> attribute on a Select2 control that also has <code>tags: true</code> enabled:</p>
                              </div>

                              <select id="multi-value-select" multiple="multiple">
                                  <option selected="selected">orange</option>
                                  <option>white</option>
                                  <option selected="selected">purple</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-4">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Single select placeholders</h4>
                                  <p>Select2 supports displaying a placeholder value using the
                                      <code>placeholder</code> configuration option. The placeholder value will be displayed until a selection is made.</p>
                              </div>

                              <select class="single-select-placeholder js-states">

                                  <option value="Alaska">Alaska</option>
                                  <option value="Hawaii">Hawaii</option>
                                  <option value="California">California</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-4">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Multi-select placeholders</h4>
                                  <p>For multi-selects, you must <strong>not</strong> have an empty
                                      <code>&lt;option&gt;</code>element:</p>
                              </div>

                              <select class="multi-select-placeholder js-states" multiple="multiple">
                                  <option value="Alaska">Alaska</option>
                                  <option value="Hawaii">Hawaii</option>
                                  <option value="California">California</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-4">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Default selection placeholders</h4>
                                  <p>Alternatively, the value of the <code>placeholder</code> option can be a data object representing a default selection (<code>&lt;option&gt;</code>). In this case the <code>id</code> of the data object should match the
                                      <code>value</code> of the corresponding default selection.</p>
                              </div>

                              <select class="default-placeholder">

                                  <option value="Alaska">Alaska</option>
                                  <option value="Hawaii">Hawaii</option>
                                  <option value="California">California</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Customizing how results are matched</h4>
                                  <p>When users filter down the results by entering search terms into the search box, Select2 uses an internal "matcher" to match search terms to results. You may customize the way that Select2 matches search terms by specifying
                                      a callback for the <code>matcher</code> configuration option.</p>
                              </div>

                              <select class="customize-result">
                                  <option value="Alaska">Alaska</option>
                                  <option value="Hawaii">Hawaii</option>
                                  <option value="California">California</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Matching grouped options</h4>
                                  <p>Only first-level objects will be passed in to the <code>matcher</code> callback. If you are working with nested data, you must iterate through the
                                      <code>children</code> array and match them individually. This allows for more advanced matching when working with nested objects, allowing you to handle them however you want.</p>
                              </div>

                              <select class="match-grouped-options">
                                  <optgroup label="Alaskan/Hawaiian Time Zone">
                                      <option>Alaska</option>
                                      <option>Hawaii</option>
                                  </optgroup>
                                  <optgroup label="Pacific Time Zone">
                                      <option>California</option>
                                      <option>Nevada</option>
                                      <option>Oregon</option>
                                      <option>Washington</option>
                                  </optgroup>
                                  <optgroup label="Mountain Time Zone">
                                      <option>Arizona</option>
                                      <option>Colorado</option>
                                      <option>Idaho</option>
                                      <option>Mountana</option>
                                      <option>Nebraska</option>
                                      <option>New Mexico</option>
                                      <option>Utah</option>
                                      <option>Wyoming</option>
                                  </optgroup>
                                  <optgroup label="Central Time Zone">
                                      <option>Alabama</option>
                                      <option>Arkansas</option>
                                      <option>Illinois</option>
                                      <option>Lowa</option>
                                      <option>Kansas</option>
                                  </optgroup>
                                  <optgroup label="Eastern Time Zone">
                                      <option>Connecticut</option>
                                      <option>Delaware</option>
                                      <option>Florida</option>
                                      <option>Georgia</option>
                                      <option>Indiana</option>
                                      <option>Maine</option>
                                      <option>Maryland</option>
                                      <option>Massachusetts</option>
                                      <option>Michigan</option>
                                  </optgroup>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Minumum search term length</h4>
                                  <p>You may set a minimum search term length by using the
                                      <code>minimumInputLength</code> option:</p>
                              </div>

                              <select class="minimum-search-length">
                                  <option value="Alaska">Alaska</option>
                                  <option value="Hawaii">Hawaii</option>
                                  <option value="California">California</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Maximum search term length</h4>
                                  <p>You may limit the maximum length of search terms by using the
                                      <code>maximumInputLength</code> option:</p>
                              </div>

                              <select class="maximum-search-length">
                                  <option value="Alaska">Alaska</option>
                                  <option value="Hawaii">Hawaii</option>
                                  <option value="California">California</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Programmatically add new options</h4>
                                  <p>New options can be added to a Select2 control programmatically by creating a new Javascript <code>Option</code> object and appending it to the control:</p>
                              </div>

                              <select class="add-new-options">

                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Create if not exists</h4>
                                  <p>You can use <code>.find</code> to select the option if it already exists, and create it otherwise:</p>
                              </div>

                              <select class="create-if-not-exists">
                                  <option value="Alaska">Alaska</option>
                                  <option value="Hawaii">Hawaii</option>
                                  <option value="California">California</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Using jQuery selector</h4>
                                  <p>Selected items can also be accessed via the <code>:selected</code> jQuery selector:
                                  </p>
                              </div>

                              <select class="jquery-selector">
                                  <option value="Alaska">Alaska</option>
                                  <option value="Hawaii">Hawaii</option>
                                  <option value="California">California</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">RTL support</h4>
                                  <p>Select2 will work on RTL websites if the <code>dir</code> attribute is set on the
                                      <code>&lt;select&gt;</code><span class="copy-to-clipboard" title="Copy to clipboard"></span> or any parents of it. You can also initialize Select2 with the <code>dir: "rtl"</code><span class="copy-to-clipboard"
                                          title="Copy to clipboard"></span> configuration option.
                                  </p>
                              </div>

                              <select class="rtl-select2">
                                  <option value="Alaska">Alaska</option>
                                  <option value="Hawaii">Hawaii</option>
                                  <option value="California">California</option>
                              </select>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-4">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Destroying the Select2 control</h4>
                                  <p>The <code>destroy</code> method will remove the Select2 widget from the target element. It will revert back to a standard <code>select</code> control:</p>
                              </div>

                              <div class="mb-4">
                                  <select class="destroy-selector">
                                      <option value="Alaska">Alaska</option>
                                      <option value="Hawaii">Hawaii</option>
                                      <option value="California">California</option>
                                  </select>
                              </div>
                              <button id="destroy-selector-trigger" class="btn btn-primary">Destroy Select2</button>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-4">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Opening the dropdown</h4>
                                  <p>Select2 will trigger a few different events when different actions are taken using the component, allowing you to add custom hooks and perform actions.</p>
                              </div>

                              <div class="mb-4">
                                  <select class="opening-dropdown">
                                      <option value="Alaska">Alaska</option>
                                      <option value="Hawaii">Hawaii</option>
                                      <option value="California">California</option>
                                  </select>
                              </div>
                              <button id="dropdown-trigger-open" class="btn btn-primary">Open Dropdown</button>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-4">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Opening/Closing the dropdown</h4>
                                  <p>Select2 will trigger a few different events when different actions are taken using the component, allowing you to add custom hooks and perform actions.</p>
                              </div>
                              <button id="opening-dropdown-trigger" class="btn btn-primary mb-2">Open
                                  Dropdown</button>
                              <button id="closing-dropdown-trigger" class="btn btn-primary mb-2">Close
                                  Dropdown</button>
                              <div class="mt-4">
                                  <select class="open-close-dropdown">
                                      <option value="Alaska">Alaska</option>
                                      <option value="Hawaii">Hawaii</option>
                                      <option value="California">California</option>
                                  </select>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Select2 methods</h4>
                                  <p>Select2 has several built-in methods that allow programmatic control of the component. </p>
                              </div>

                              <label class="select2-label">Single select</label> <br>
                              <button class="js-programmatic-set-val btn btn-primary mb-2" aria-label="Set Select2 option">
                                  Set "California"
                              </button>

                              <button class="js-programmatic-open btn btn-primary mb-2">
                                  Open
                              </button>

                              <button class="js-programmatic-close btn btn-primary mb-2">
                                  Close
                              </button>

                              <button class="js-programmatic-destroy btn btn-primary mb-2">
                                  Destroy
                              </button>

                              <button class="js-programmatic-init btn btn-primary mb-2">
                                  Re-initialize
                              </button>

                              <div class="mt-4">
                                  <select class="single-event-unbind">
                                      <option value="AL">Alaska</option>
                                      <option value="HA">Hawaii</option>
                                      <option value="CA">California</option>
                                  </select>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="col-xl-6">
                      <div class="card">
                          <div class="card-body">
                              <div class="mb-4">
                                  <h4 class="card-title">Select2 methods</h4>
                                  <p>Select2 has several built-in methods that allow programmatic control of the component. </p>
                              </div>

                              <label class="select2-label">Multiple select</label> <br>
                              <button class="js-programmatic-multi-set-val btn btn-primary mb-2" aria-label="Set Select2 option">
                                  Set to Hawaii and California
                              </button>

                              <button class="js-programmatic-multi-clear btn btn-primary mb-2">
                                  Clear
                              </button>

                              <div class="mt-4">
                                  <select class="js-example-programmatic-multi" multiple="multiple">
                                      <option value="AL">Alaska</option>
                                      <option value="HA">Hawaii</option>
                                      <option value="CA">California</option>
                                  </select>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div> -->
      <!--**********************************
          Content body end
      ***********************************-->

      {% block content %} {% endblock%}
    </main>
    <!--   Core JS Files   -->
    <script src="{% static 'js/core/popper.min.js' %}"></script>
    <script src="{% static 'js/core/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/plugins/perfect-scrollbar.min.js' %}"></script>
    <script src="{% static 'js/plugins/smooth-scrollbar.min.js' %}"></script>
    <script src="{% static 'js/plugins/chartjs.min.js' %}"></script>
   <script>

      /*var ctx = document.getElementById("chart-bars").getContext("2d");

      new Chart(ctx, {
        type: "bar",
        data: {
          labels: [
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
          ],
          datasets: [
            {
              label: "Sales",
              tension: 0.4,
              borderWidth: 0,
              borderRadius: 4,
              borderSkipped: false,
              backgroundColor: "#fff",
              data: [450, 200, 100, 220, 500, 100, 400, 230, 500],
              maxBarThickness: 6,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            },
          },
          interaction: {
            intersect: false,
            mode: "index",
          },
          scales: {
            y: {
              grid: {
                drawBorder: false,
                display: false,
                drawOnChartArea: false,
                drawTicks: false,
              },
              ticks: {
                suggestedMin: 0,
                suggestedMax: 500,
                beginAtZero: true,
                padding: 15,
                font: {
                  size: 14,
                  family: "Open Sans",
                  style: "normal",
                  lineHeight: 2,
                },
                color: "#fff",
              },
            },
            x: {
              grid: {
                drawBorder: false,
                display: false,
                drawOnChartArea: false,
                drawTicks: false,
              },
              ticks: {
                display: false,
              },
            },
          },
        },
      });
      */
      
     /* var ctx2 = document.getElementById("chart-line").getContext("2d");

      var gradientStroke1 = ctx2.createLinearGradient(0, 230, 0, 50);

      gradientStroke1.addColorStop(1, "rgba(203,12,159,0.2)");
      gradientStroke1.addColorStop(0.2, "rgba(72,72,176,0.0)");
      gradientStroke1.addColorStop(0, "rgba(203,12,159,0)"); //purple colors

      var gradientStroke2 = ctx2.createLinearGradient(0, 230, 0, 50);

      gradientStroke2.addColorStop(1, "rgba(20,23,39,0.2)");
      gradientStroke2.addColorStop(0.2, "rgba(72,72,176,0.0)");
      gradientStroke2.addColorStop(0, "rgba(20,23,39,0)"); //purple colors

      new Chart(ctx2, {
        type: "line",
        data: {
          labels: [
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec",
          ],
          datasets: [
            {
              label: "Mobile apps",
              tension: 0.4,
              borderWidth: 0,
              pointRadius: 0,
              borderColor: "#cb0c9f",
              borderWidth: 3,
              backgroundColor: gradientStroke1,
              fill: true,
              data: [50, 40, 300, 220, 500, 250, 400, 230, 500],
              maxBarThickness: 6,
            },
            {
              label: "Counter",
              tension: 0.4,
              borderWidth: 0,
              pointRadius: 0,
              borderColor: "#3A416F",
              borderWidth: 3,
              backgroundColor: gradientStroke2,
              fill: true,
              data: [30, 90, 40, 140, 290, 290, 340, 230, 400],
              maxBarThickness: 6,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            },
          },
          interaction: {
            intersect: false,
            mode: "index",
          },
          scales: {
            y: {
              grid: {
                drawBorder: false,
                display: true,
                drawOnChartArea: true,
                drawTicks: false,
                borderDash: [5, 5],
              },
              ticks: {
                display: true,
                padding: 10,
                color: "#b2b9bf",
                font: {
                  size: 11,
                  family: "Open Sans",
                  style: "normal",
                  lineHeight: 2,
                },
              },
            },
            x: {
              grid: {
                drawBorder: false,
                display: false,
                drawOnChartArea: false,
                drawTicks: false,
                borderDash: [5, 5],
              },
              ticks: {
                display: true,
                color: "#b2b9bf",
                padding: 20,
                font: {
                  size: 11,
                  family: "Open Sans",
                  style: "normal",
                  lineHeight: 2,
                },
              },
            },
          },
        },
     
      });
    */
    </script>
    <!-- //To check active menu card -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const menuItems = document.querySelectorAll(".nav-link");
        const currentUrl = window.location.pathname;

        menuItems.forEach(function (menuItem) {
          const menuItemUrl = menuItem.getAttribute("data-url");
          if (menuItemUrl === currentUrl) {
            menuItem.classList.add("active");
          }
        });
      });
    </script>
    <script src="{% static 'js/vff-group-dashboard.min.js' %}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="{% static 'js/main.js' %}"></script>

    <!-- Required vendors -->
<script src="{% static 'vendor/global/global.min.js' %}"></script>
<script src="{% static 'js/quixnav-init.js' %}"></script>
<script src="{% static 'js/custom.min.js' %}"></script>
<!-- Toastr -->
<script src="{% static 'vendor/toastr/js/toastr.min.js' %}"></script>

<!-- All init script -->
<script src="{% static 'js/plugins-init/toastr-init.js' %}"></script>
<script src="{% static 'vendor/select2/js/select2.full.min.js' %}"></script>
<script src="{% static 'js/plugins-init/select2-init.js' %}"></script>

    <!-- To Show Notifications  -->
    <!-- Include jQuery and Bootstrap JS before this script -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oGsFzPfNsYkLCRi3BEs0s+WyQl3ByVylUk5l1RlW37E=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-qZqy51hpVr3PJSkt2W4tTwZrBEJpCgFf3KpBbqMvuv0PAjqHI8h11ABjKz5x0mu2" crossorigin="anonymous"></script>
<!-- Include jQuery and Bootstrap JS before this script -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oGsFzPfNsYkLCRi3BEs0s+WyQl3ByVylUk5l1RlW37E=" crossorigin="anonymous"></script>

<script>
  $(document).ready(function() {

      // Get the CSRF token from the cookie
      function getCSRFToken() {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.startsWith("csrftoken=")) {
                return cookie.substring("csrftoken=".length, cookie.length);
            }
        }
        return null;
      }
  $('#searchBtn').click(function() {
    const orderId = $('#input-cost').val(); // Get the value of the order ID input field
    const type = $('#input-type').val(); // Get the value of the type input field
    const csrfToken = getCSRFToken();

    console.log('TypeOfORder::'+type);
    // AJAX request
    $.ajax({
      type: 'POST', // or 'GET' depending on your server implementation
      url: '/admin_dashboard/search/', // Replace this with your server endpoint
      headers: {
            'X-CSRFToken': csrfToken  // Include the CSRF token in the headers
        },
      data: {
        searchid: orderId,
        type: type,
        csrfmiddlewaretoken: '{{ csrf_token }}' // Ensure you have CSRF protection
      },
      success: function(response) {
        // Check the response from the server
        if (response.orderFound) {
          // Order found, do something with the response
          // For example, display the order details in a modal
          window.location.href = `/admin_dashboard/all_orders/order_details/` + response.orderid;
         // $('#modal-body').html(response.orderDetails); // Replace '#modal-body' with your modal's body ID or class
        } else {
          // Order not found, show a toast message
          showToast('Alert','Order not found');
        }
      },
      error: function(xhr, status, error) {
        // Handle any AJAX errors
        console.error(error);
      }
    });
  });
// Function to show a toast message
function showToast(message, bodyContent) {
  toastr.warning(bodyContent, message, {
    positionClass: "toast-top-right",
    timeOut: 5e3,
    closeButton: !0,
    debug: !1,
    newestOnTop: !0,
    progressBar: !0,
    preventDuplicates: !0,
    onclick: null,
    showDuration: "300",
    hideDuration: "1000",
    extendedTimeOut: "1000",
    showEasing: "swing",
    hideEasing: "linear",
    showMethod: "fadeIn",
    hideMethod: "fadeOut",
    tapToDismiss: !1
})
}
  // // Function to show a toast message
  // function showToast(message) {
  //   // Implement your toast notification logic here
  //   // This might involve showing a hidden div with the message and styling it appropriately
  //   // For example:
  //   $('#toastMessage').text(message);
  //   $('#toastMessage').fadeIn().delay(2000).fadeOut(); // Show for 2 seconds and then hide
  // }
});


</script>
<script>
  $(document).ready(function () {
    $('#notificationBell').on('click', function () {

      // Get the CSRF token from the cookie
      function getCSRFToken() {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.startsWith("csrftoken=")) {
                return cookie.substring("csrftoken=".length, cookie.length);
            }
        }
        return null;
      }

      
      //CSRF TOken
      const csrfToken = getCSRFToken();
      // Make AJAX request to get notifications
      $.ajax({
        url: '/admin_dashboard/get_todays_notification',
        method: 'GET',
        
        headers: {
            'X-CSRFToken': csrfToken  // Include the CSRF token in the headers
        },
        contentType: 'application/json',
        success: function (data) {
          displayNotifications(data.query_result);
        },
        error: function (error) {
          console.error('Error fetching notifications:', error);
        }
      });
    });
  });

  function displayNotifications(notifications) {
    var notificationsContent = $('#notificationsContent');
    notificationsContent.empty();
    if (notifications.length === 0) {
      // Display a label when there are no notifications
      notificationsContent.html('<p class="text-center">No Notifications found for today</p>');
      return;
    }
    notifications.forEach(function (notification) {
      var timeAgo = calculateTimeAgo(notification.epoch);
      // <img src="${notification.ImageURL}" class="avatar avatar-sm me-3" />
      //nav-item,dropdown-menu
      var bookingUrl = "{% url 'dashboard_app:all_unassigned_bookings' %}";
      var notificationItem = `
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="dropdown-item border-radius-md" href="${bookingUrl}">
            <div class="d-flex py-1">
              <div class="my-auto">
                <img src="${notification.customer_profile}" class="avatar avatar-sm me-3" />
              </div>
              <div class="d-flex flex-column justify-content-center">
                <h6 class="text-sm font-weight-normal mb-1">
                  <span class="font-weight-bold">${notification.title}</span> from ${notification.customer_name}
                </h6>
                <h6 class="text-sm font-weight-normal mb-1">
                  <span class="font-weight-bold">Sent </span> To ${notification.delivery_boy_name}
                </h6>
                <p class="text-xs text-secondary mb-1">
                  <i class="fa fa-bookmark-o me-1"></i>Booking ID #${notification.booking_id}
                </p>
                <p class="text-xs text-secondary mb-0">
                  <i class="fa fa-clock me-1"></i>${timeAgo}
                </p>
              </div>
            </div>
          </a>
        </li>
        <hr class="mb-1">
      </ul>`;
  
      notificationsContent.append(notificationItem);
    });
  }
  
  function calculateTimeAgo(epochTime) {
    const currentTime = Math.floor(Date.now() / 1000); // Get current time in seconds
    const secondsAgo = currentTime - epochTime;
  
    if (secondsAgo < 60) {
      return 'Just now';
    } else if (secondsAgo < 3600) {
      const minutesAgo = Math.floor(secondsAgo / 60);
      return `${minutesAgo} ${minutesAgo === 1 ? 'minute' : 'minutes'} ago`;
    } else if (secondsAgo < 86400) {
      const hoursAgo = Math.floor(secondsAgo / 3600);
      return `${hoursAgo} ${hoursAgo === 1 ? 'hour' : 'hours'} ago`;
    } else {
      const daysAgo = Math.floor(secondsAgo / 86400);
      return `${daysAgo} ${daysAgo === 1 ? 'day' : 'days'} ago`;
    }
  }
  
</script>

<script>
  // Function to play notification sound
function playNotificationSound() {
  var notificationSound = document.getElementById('notificationSound');
  notificationSound.play();
}

// Function to check for new notifications using AJAX
function checkForNewNotifications() {
  $.ajax({
      url: '/admin_dashboard/check_notifications/', // Replace with your Django endpoint
      type: 'GET',
      success: function(response) {
          if (response.query_result) {
              // Play sound and show modal or update UI
              playNotificationSound();
              $('#notificationModal').modal('show');
          }
      },
      error: function(error) {
          console.error('Error checking notifications:', error);
      }
  });
}

// Check for new notifications every 30 seconds (for example)
setInterval(checkForNewNotifications, 30000);

</script>
  </body>
</html>
